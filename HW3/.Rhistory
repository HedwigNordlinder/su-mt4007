cell_phone_data <- read.csv("cell_phones_total.csv")
na_to_zero_pre_1975 <- function(row) {
fixed_row = row
for(i in 2:13) {
if(is.na(row[i])) {
fixed_row[i] = 0
}
}
return(fixed_row)
}
pre_1975_na_fixed <- cell_phone_data
for(i in 1:nrow(cell_phone_data)) {
pre_1975_na_fixed[i,] <- na_to_zero_pre_1975(pre_1975_na_fixed[i,])
}
fix_kmb_problem <- function(row) {
fixed_row = row
for(i in 2:length(row)) {
if(grepl("k",row[i])) {
fixed_row[i] <- as.numeric(gsub("k","",row[i]))*1000
}
else if(grepl("M",row[i])) {
fixed_row[i] <- as.numeric(gsub("M","",row[i]))*1000*1000
}
else if(grepl("B",row[i])) {
fixed_row[i] <- as.numeric(gsub("B","",row[i]))*1000*1000*1000
}
if(!is.na(row[i]) && row[i] == "") {
fixed_row[i] = NA
}
}
return(fixed_row)
}
kmb_fixed <- pre_1975_na_fixed
for(i in 1:nrow(cell_phone_data)) {
kmb_fixed[i,] <- fix_kmb_problem(pre_1975_na_fixed[i,])
}
head(kmb_fixed)
